package com.meepo.feed.minivideoimport android.util.Logimport com.meepo.feed.Serviceimport com.meepo.feed.schema.FeedResultimport com.meepo.sdk.framework.BasePresenterimport com.meepo.sdk.observer.Observerimport com.meepo.sdk.observer.ObserverManager.applySchedulers/** * @author  佟旭 * @wechat tongxury * @date  2020/10/14 10:46 PM * @version 1.0 */class Presenter : BasePresenter<IContract.IFeedListView>(), IContract.IFeedListPresenter {    override fun refresh(category: String) {        Service.get().fetchMiniVideos(category)            .applySchedulers()            .map { rsp -> rsp.data }            .compose(mView?.bindToLife<FeedResult>())            .subscribe(object : Observer<FeedResult>() {                override fun onSuccess(t: FeedResult?) {                    mView?.refresh(t)                }                override fun onFailure(e: Throwable) {                    Log.e("onFailure", e.message)                }            })    }    override fun fetchMore(category: String) {        Service.get().fetchMiniVideos(category)            .applySchedulers()            .map { rsp -> rsp.data }            .compose(mView?.bindToLife<FeedResult>())            .subscribe(object : Observer<FeedResult>() {                override fun onSuccess(t: FeedResult?) {                    mView?.append(t)                }                override fun onFailure(e: Throwable) {                    Log.e("onFailure", e.message)                }            })    }    override fun remove(id: String) {    }}